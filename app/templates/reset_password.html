{% extends "base.html" %}

{% block title %}Passwort zurücksetzen{% endblock %}

{% block nav %}
    <a href="/">Startseite</a>
    <a href="/login">Login</a>
{% endblock %}

{% block content %}
<div style="max-width: 460px; margin: 4rem auto;">
    <div class="card">
        <div class="page-header" style="margin-bottom: 1.5rem;">
            <h1>Passwort zurücksetzen</h1>
            <p>Bitte vergeben Sie ein neues Passwort.</p>
        </div>

        {% if error %}
            <div class="alert alert-error">{{ error }}</div>
        {% endif %}

        {% if token %}
            <form method="post">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <div class="form-group">
                    <label for="password">Neues Passwort</label>
                    <input id="password" name="password" type="password" minlength="8" required autofocus>
                    <p style="margin-top:0.5rem; color: var(--text-secondary); font-size: 0.85rem;">
                        Mindestens 8 Zeichen, 1 Großbuchstabe und 1 Sonderzeichen.
                    </p>
                </div>
                <div class="form-group">
                    <label for="password2">Neues Passwort wiederholen</label>
                    <input id="password2" name="password2" type="password" minlength="8" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Passwort speichern</button>
            </form>
        {% else %}
            <div style="text-align:center; margin-top: 1rem;">
                <a href="/forgot-password" class="btn btn-outline">Neuen Link anfordern</a>
            </div>
        {% endif %}

        <div style="margin-top: 1rem; text-align: center;">
            <a href="/login" style="color: var(--text-secondary); text-decoration: none; font-size: 0.9rem;">
                Zurück zum Login
            </a>
        </div>
    </div>
</div>
{% endblock %}
